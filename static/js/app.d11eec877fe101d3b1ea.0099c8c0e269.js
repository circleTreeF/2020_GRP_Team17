webpackJsonp([1],{"1rXt":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(t){a("jCRG")},null,null).exports,s=a("/ocq"),i=a("mvHQ"),l=a.n(i),c=a("/IwO"),u=a.n(c),p=a("mtWM"),m=a.n(p),d=new c.AMapManager;n.default.use(u.a),u.a.initAMapApiLoader({key:"d8488789f28d0ea005ec92e21fbf2c23",plugin:["AMap.Autocomplete","AMap.Geocoder","AMap.Geolocation","AMap.CircleEditor"],v:"1.4.4"});var f={data:function(){return{url:"http://10.6.2.61:8866/statistics/get_bad_point",amapManager:d,zoom:17,center:[121.562236,29.8000444],date:"",badPoints:[]}},watch:{date:function(t,e){this.requestData(t)}},created:function(){this.onload()},methods:{onload:function(){var t=this.getNowFormatDate();this.requestData(t)},requestData:function(t){var e=this;m()({method:"post",url:this.url,data:l()({date:t}),header:{"Content-Type":"application/json"}}).then(function(t){var a=t.data;a.length<=0&&e.$message({type:"info",message:"NO DATA"}),e.changeFormat(a)}).catch(function(t){console.log(t)})},changeFormat:function(t){for(var e=[],a=[],n={},o=0;o<t.length;o++)a.push(t[o].point_longitude),a.push(t[o].point_latitude),n={center:a,radius:t[o].point_radius,status:t[o].valid_status},console.log(n),e.push(n),a=[];this.badPoints=e},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),e+"-"+a+"-"+n}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"total-container"},[a("h1",{staticStyle:{color:"#4682B4"}},[t._v("Road Monitoring System")]),t._v(" "),a("el-date-picker",{staticClass:"date-picker",attrs:{type:"date",placeholder:"select date","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("div",{staticClass:"amap-page-container"},[a("el-amap",{ref:"map",staticClass:"amap-demo",attrs:{vid:"amapDemo","amap-manager":t.amapManager,center:t.center,zoom:t.zoom}},t._l(t.badPoints,function(t,e){return a("el-amap-circle",{key:e,attrs:{center:t.center,radius:t.radius,strokeColor:t.status?"#7B68EE":"#ee2200",strokeOpacity:"1",strokeWeight:"1",fillColor:t.status?"#6A5ACD":"#ee2200",fillOpacity:"0.5"}})}),1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")(f,h,!1,function(t){a("1rXt")},"data-v-444a4bbc",null).exports,v={data:function(){return{url:"http://10.6.2.61:8866/statistics/user_login",form:{username:"",password:""}}},methods:{login:function(){var t=this;if(""!=this.form.username&&""!=this.form.password){var e={username:this.form.username,password:this.form.password};m()({method:"post",url:this.url,data:l()(e),header:{"Content-Type":"application/json"}}).then(function(e){var a=e.data.result;console.log(a),a?(sessionStorage.setItem("loginInfo",!0),sessionStorage.setItem("permission",t.form.name),t.$router.push("/components/Map")):(sessionStorage.setItem("loginInfo",!1),t.$message({message:"ERROR! Incorrect username or password",type:"warning"}))}).catch(function(t){console.log(t)})}else this.$message({message:"Username and password can not be empty",type:"warning"})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("h1",{staticStyle:{color:"#4682B4"}},[t._v("Road Monitoring System")]),t._v(" "),a("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Username"}},[a("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("Login")])],1)],1)],1)},staticRenderFns:[]};var w=a("VU/8")(v,_,!1,function(t){a("h6MK")},null,null).exports;n.default.use(s.a);var y=new s.a({routes:[{path:"/",name:"",component:w},{path:"/login",name:"Login",component:w},{path:"/components/Map",name:"Map",component:g,meta:{loginInfo:!0}}]}),M=a("zL8q"),b=a.n(M);a("tvR6");n.default.use(b.a,m.a),n.default.config.productionTip=!1,n.default.prototype.$http=m.a,new n.default({el:"#app",router:y,components:{App:r},template:"<App/>",render:function(t){return t(r)}}),y.beforeEach(function(t,e,a){return"/login"===t.path?a():sessionStorage.getItem("loginInfo")?a():a("/login")})},h6MK:function(t,e){},jCRG:function(t,e){},tvR6:function(t,e){}},["NHnr"]);